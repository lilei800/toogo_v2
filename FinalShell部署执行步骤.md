# Toogo_v2 éƒ¨ç½²æ‰§è¡Œæ­¥éª¤ - FinalShellä¸“ç”¨æŒ‡å—

## ğŸ“‹ éƒ¨ç½²å‰å‡†å¤‡

**æœåŠ¡å™¨ä¿¡æ¯ï¼š**
- åŸŸå: www.toogo.my
- æœåŠ¡å™¨IP: 45.76.157.103
- æœåŠ¡å™¨: æ–°åŠ å¡Vultr (2 vCPUs, 4GB RAM, 128GB NVMe)
- æ“ä½œç³»ç»Ÿ: Ubuntu 24.04 LTS
- SSHå·¥å…·: FinalShell

**å¯†ç ä¿¡æ¯ï¼š**
- æ•°æ®åº“å¯†ç : Toogo2027!@#$888
- Rediså¯†ç : Redis2027!@#$888
- é¡¹ç›®ç›®å½•: /opt/toogo/toogo_v2
- æœåŠ¡åç§°: toogo

---

## ğŸš€ ç¬¬ä¸€æ­¥ï¼šä¸Šä¼ éƒ¨ç½²è„šæœ¬åˆ°æœåŠ¡å™¨

### æ–¹æ³•1ï¼šä½¿ç”¨FinalShellçš„SFTPåŠŸèƒ½ï¼ˆæ¨èï¼‰

1. **æ‰“å¼€FinalShellï¼Œè¿æ¥åˆ°ä½ çš„æœåŠ¡å™¨**

2. **åœ¨FinalShellä¸­æ‰“å¼€SFTPé¢æ¿**
   - ç‚¹å‡»èœå•æ çš„ "æ–‡ä»¶" â†’ "SFTP"
   - æˆ–è€…ä½¿ç”¨å¿«æ·é”® `Ctrl + Shift + F`

3. **ä¸Šä¼ éƒ¨ç½²è„šæœ¬**
   - åœ¨æœ¬åœ°ç”µè„‘æ‰¾åˆ°æ–‡ä»¶: `D:\go\src\toogo_v2\éƒ¨ç½²è„šæœ¬-æ–°åŠ å¡æœåŠ¡å™¨.sh`
   - æ‹–æ‹½æ–‡ä»¶åˆ°FinalShellçš„SFTPé¢æ¿å³ä¾§ï¼ˆæœåŠ¡å™¨ç›®å½•ï¼‰
   - ä¸Šä¼ åˆ°æœåŠ¡å™¨çš„ `/home/ä½ çš„ç”¨æˆ·å/` ç›®å½•

4. **ç¡®è®¤æ–‡ä»¶å·²ä¸Šä¼ æˆåŠŸ**
   - åœ¨FinalShellçš„SSHç»ˆç«¯ä¸­è¾“å…¥: `ls -la`
   - åº”è¯¥èƒ½çœ‹åˆ° `éƒ¨ç½²è„šæœ¬-æ–°åŠ å¡æœåŠ¡å™¨.sh` æ–‡ä»¶

### æ–¹æ³•2ï¼šä½¿ç”¨å‘½ä»¤è¡Œä¸Šä¼ ï¼ˆå¦‚æœSFTPä¸å¯ç”¨ï¼‰

åœ¨ä½ çš„æœ¬åœ°Windowsç”µè„‘ä¸Šæ‰“å¼€PowerShellï¼Œæ‰§è¡Œï¼š

```powershell
# ä¸Šä¼ è„šæœ¬æ–‡ä»¶ï¼ˆæ›¿æ¢ä¸ºä½ çš„æœåŠ¡å™¨IPå’Œç”¨æˆ·åï¼‰
scp "D:\go\src\toogo_v2\éƒ¨ç½²è„šæœ¬-æ–°åŠ å¡æœåŠ¡å™¨.sh" ç”¨æˆ·å@45.76.157.103:~

# ä¸Šä¼ æ•´ä¸ªé¡¹ç›®ç›®å½•ï¼ˆç¨åéœ€è¦ï¼‰
scp -r "D:\go\src\toogo_v2" ç”¨æˆ·å@45.76.157.103:/opt/toogo/
```

---

## ğŸ”§ ç¬¬äºŒæ­¥ï¼šæ‰§è¡Œéƒ¨ç½²è„šæœ¬

### 1. è¿æ¥åˆ°æœåŠ¡å™¨SSH

åœ¨FinalShellä¸­ï¼Œç¡®ä¿å·²ç»è¿æ¥åˆ°æœåŠ¡å™¨çš„SSHç»ˆç«¯ã€‚

### 2. ç»™è„šæœ¬æ‰§è¡Œæƒé™

```bash
# è¿›å…¥ç”¨æˆ·ä¸»ç›®å½•
cd ~

# ç»™è„šæœ¬æ‰§è¡Œæƒé™
chmod +x éƒ¨ç½²è„šæœ¬-æ–°åŠ å¡æœåŠ¡å™¨.sh

# ç¡®è®¤æƒé™è®¾ç½®æˆåŠŸ
ls -la éƒ¨ç½²è„šæœ¬-æ–°åŠ å¡æœåŠ¡å™¨.sh
# åº”è¯¥æ˜¾ç¤º: -rwxr-xr-x 1 user user ... éƒ¨ç½²è„šæœ¬-æ–°åŠ å¡æœåŠ¡å™¨.sh
```

### 3. æ‰§è¡Œéƒ¨ç½²è„šæœ¬

```bash
# æ‰§è¡Œéƒ¨ç½²è„šæœ¬
./éƒ¨ç½²è„šæœ¬-æ–°åŠ å¡æœåŠ¡å™¨.sh
```

**æ‰§è¡Œè¿‡ç¨‹ä¸­ä¼šæ˜¾ç¤ºï¼š**
```
==========================================
  Toogo_v2 éƒ¨ç½²åˆ°æ–°åŠ å¡VultræœåŠ¡å™¨
  Ubuntu 24.04 LTS
==========================================

æ–°åŠ å¡æœåŠ¡å™¨é…ç½®ä¿¡æ¯:
  æœåŠ¡å™¨è§„æ ¼: 2 vCPUs, 4GB RAM, 128GB NVMe
  åŸŸå: www.toogo.my
  æ•°æ®åº“å¯†ç : Toogo2027!@#$888
  Rediså¯†ç : Redis2027!@#$888
  åº”ç”¨ç”¨æˆ·: ubuntu (æˆ–ä½ çš„ç”¨æˆ·å)
  é¡¹ç›®ç›®å½•: /opt/toogo/toogo_v2

ç¡®è®¤å¼€å§‹éƒ¨ç½²? (y/n):
```

**è¾“å…¥ `y` å¹¶æŒ‰å›è½¦å¼€å§‹éƒ¨ç½²**

---

## ğŸ“ ç¬¬ä¸‰æ­¥ï¼šä¸Šä¼ é¡¹ç›®ä»£ç 

éƒ¨ç½²è„šæœ¬æ‰§è¡Œåˆ°ç¬¬9æ­¥æ—¶ï¼Œä¼šæç¤ºä½ ä¸Šä¼ ä»£ç ï¼š

```
[9/10] éƒ¨ç½²åº”ç”¨ä»£ç ...
è¯·å°†æœ¬åœ°ä»£ç ä¸Šä¼ åˆ°æœåŠ¡å™¨:
1. åœ¨ä½ çš„æœ¬åœ°ç”µè„‘ä¸Šæ‰“å¼€PowerShellæˆ–ç»ˆç«¯
2. è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼ˆæœåŠ¡å™¨IP: 45.76.157.103ï¼‰:
   scp -r D:\go\src\toogo_v2 ç”¨æˆ·å@45.76.157.103:/opt/toogo/

ç­‰å¾…ä½ ä¸Šä¼ ä»£ç å®Œæˆåï¼ŒæŒ‰å›è½¦ç»§ç»­...
```

### ä½¿ç”¨FinalShellä¸Šä¼ ä»£ç 

1. **åœ¨FinalShellä¸­æ‰“å¼€SFTPé¢æ¿**
   - ç‚¹å‡»èœå•æ çš„ "æ–‡ä»¶" â†’ "SFTP"

2. **å¯¼èˆªåˆ°ç›®æ ‡ç›®å½•**
   - åœ¨å³ä¾§æœåŠ¡å™¨é¢æ¿ä¸­ï¼Œè¿›å…¥ `/opt/toogo/` ç›®å½•
   - å¦‚æœç›®å½•ä¸å­˜åœ¨ï¼Œå…ˆåˆ›å»ºï¼šå³é”® â†’ "æ–°å»ºæ–‡ä»¶å¤¹" â†’ è¾“å…¥ `toogo`

3. **ä¸Šä¼ é¡¹ç›®æ–‡ä»¶å¤¹**
   - åœ¨æœ¬åœ°å·¦ä¾§é¢æ¿ä¸­ï¼Œæ‰¾åˆ° `D:\go\src\toogo_v2` æ–‡ä»¶å¤¹
   - æ‹–æ‹½æ•´ä¸ª `toogo_v2` æ–‡ä»¶å¤¹åˆ°å³ä¾§æœåŠ¡å™¨çš„ `/opt/toogo/` ç›®å½•

4. **ç¡®è®¤ä¸Šä¼ å®Œæˆ**
   - ä¸Šä¼ å®Œæˆåï¼Œåœ¨æœåŠ¡å™¨çš„ `/opt/toogo/` ç›®å½•åº”è¯¥èƒ½çœ‹åˆ° `toogo_v2` æ–‡ä»¶å¤¹

5. **å›åˆ°SSHç»ˆç«¯ï¼ŒæŒ‰å›è½¦ç»§ç»­éƒ¨ç½²**

---

## âœ… ç¬¬å››æ­¥ï¼šéªŒè¯éƒ¨ç½²ç»“æœ

éƒ¨ç½²è„šæœ¬æ‰§è¡Œå®Œæˆåï¼Œä¼šæ˜¾ç¤ºï¼š

```
==========================================
  ğŸ‰ éƒ¨ç½²å®Œæˆï¼
==========================================

ğŸ“Š æœåŠ¡çŠ¶æ€:
â— toogo.service - Toogo Trading System
     Loaded: loaded (/etc/systemd/system/toogo.service; enabled; vendor preset: enabled)
     Active: active (running) since ...

ğŸ” é‡è¦ä¿¡æ¯:
  åŸŸå: www.toogo.my
  æ•°æ®åº“å¯†ç : Toogo2027!@#$888
  Rediså¯†ç : Redis2027!@#$888
  é¡¹ç›®ç›®å½•: /opt/toogo/toogo_v2

ğŸš€ å¸¸ç”¨å‘½ä»¤:
  æŸ¥çœ‹æœåŠ¡çŠ¶æ€: sudo systemctl status toogo
  æŸ¥çœ‹æ—¥å¿—: sudo journalctl -u toogo -f
  é‡å¯æœåŠ¡: sudo systemctl restart toogo

ğŸŒ è®¿é—®åœ°å€: http://ä½ çš„æœåŠ¡å™¨IP
```

---

## ğŸŒ ç¬¬äº”æ­¥ï¼šé…ç½®åŸŸåè§£æ

### 1. åœ¨åŸŸåæœåŠ¡å•†å¤„æ·»åŠ DNSè®°å½•

ç™»å½•ä½ çš„åŸŸåæœåŠ¡å•†ï¼ˆæ¯”å¦‚Namecheapã€GoDaddyç­‰ï¼‰ï¼Œæ·»åŠ ä»¥ä¸‹DNSè®°å½•ï¼š

```
ç±»å‹: A
ä¸»æœºè®°å½•: www
è®°å½•å€¼: 45.76.157.103
TTL: 600

ç±»å‹: A
ä¸»æœºè®°å½•: @
è®°å½•å€¼: 45.76.157.103
TTL: 600
```

### 2. ç­‰å¾…DNSç”Ÿæ•ˆ

DNSç”Ÿæ•ˆæ—¶é—´é€šå¸¸éœ€è¦ï¼š
- å›½å†…: 10åˆ†é’Ÿ - 2å°æ—¶
- å›½é™…: 2-24å°æ—¶

ä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å·¥å…·æ£€æŸ¥DNSæ˜¯å¦ç”Ÿæ•ˆï¼š
- https://www.whatsmydns.net/
- https://dnschecker.org/

---

## ğŸ”’ ç¬¬å…­æ­¥ï¼šé…ç½®SSLè¯ä¹¦ï¼ˆå¯é€‰ä½†æ¨èï¼‰

å¦‚æœä½ æƒ³å¯ç”¨HTTPSï¼Œå¯ä»¥é…ç½®SSLè¯ä¹¦ï¼š

```bash
# å®‰è£…Certbot
sudo apt install -y certbot python3-certbot-nginx

# è·å–SSLè¯ä¹¦
sudo certbot --nginx -d www.toogo.my -d toogo.my

# è®¾ç½®è‡ªåŠ¨ç»­æœŸ
sudo crontab -e
# æ·»åŠ ä»¥ä¸‹è¡Œï¼š
0 12 * * * /usr/bin/certbot renew --quiet
```

---

## ğŸ§ª ç¬¬ä¸ƒæ­¥ï¼šæµ‹è¯•è®¿é—®

### 1. æµ‹è¯•IPè®¿é—®

åœ¨æµè§ˆå™¨ä¸­è®¿é—®ï¼š
```
http://45.76.157.103
```

åº”è¯¥èƒ½çœ‹åˆ°Toogo_v2çš„ç™»å½•é¡µé¢ã€‚

### 2. æµ‹è¯•åŸŸåè®¿é—®ï¼ˆDNSç”Ÿæ•ˆåï¼‰

åœ¨æµè§ˆå™¨ä¸­è®¿é—®ï¼š
```
http://www.toogo.my
```

### 3. æµ‹è¯•APIæ¥å£

```bash
# æµ‹è¯•APIå¥åº·æ£€æŸ¥
curl http://localhost:8000/api/health

# æµ‹è¯•é€šè¿‡Nginxè®¿é—®
curl http://45.76.157.103/admin/api/health
```

---

## ğŸ“Š ç¬¬å…«æ­¥ï¼šç³»ç»Ÿç›‘æ§å’Œç»´æŠ¤

### å¸¸ç”¨ç›‘æ§å‘½ä»¤

```bash
# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
sudo systemctl status toogo

# æŸ¥çœ‹å®æ—¶æ—¥å¿—
sudo journalctl -u toogo -f

# æŸ¥çœ‹æœ€è¿‘100è¡Œæ—¥å¿—
sudo journalctl -u toogo -n 100

# æŸ¥çœ‹ç³»ç»Ÿèµ„æºä½¿ç”¨
htop

# æŸ¥çœ‹ç£ç›˜ä½¿ç”¨
df -h

# æŸ¥çœ‹å†…å­˜ä½¿ç”¨
free -h
```

### æ•°æ®åº“ç®¡ç†

```bash
# è¿æ¥æ•°æ®åº“
psql -h 127.0.0.1 -U hotgo_user -d hotgo

# å¤‡ä»½æ•°æ®åº“
PGPASSWORD='Toogo2027!@#$888' pg_dump -h 127.0.0.1 -U hotgo_user hotgo > backup_$(date +%Y%m%d_%H%M%S).sql

# æŸ¥çœ‹æ•°æ®åº“å¤§å°
psql -h 127.0.0.1 -U hotgo_user -d hotgo -c "SELECT pg_size_pretty(pg_database_size('hotgo'));"
```

### Redisç®¡ç†

```bash
# è¿æ¥Redis
redis-cli -a Redis2027!@#$888

# æŸ¥çœ‹Redisä¿¡æ¯
INFO

# æŸ¥çœ‹å†…å­˜ä½¿ç”¨
MEMORY STATS
```

---

## ğŸš¨ æ•…éšœæ’æŸ¥

### æœåŠ¡æ— æ³•å¯åŠ¨

```bash
# æŸ¥çœ‹è¯¦ç»†é”™è¯¯æ—¥å¿—
sudo journalctl -u toogo -xe

# æ£€æŸ¥ç«¯å£å ç”¨
sudo ss -tulnp | grep 8000

# æ£€æŸ¥é…ç½®æ–‡ä»¶
cat /opt/toogo/toogo_v2/server/manifest/config/config.yaml
```

### 502é”™è¯¯

```bash
# æ£€æŸ¥åç«¯æœåŠ¡
sudo systemctl status toogo

# æ£€æŸ¥Nginxé”™è¯¯æ—¥å¿—
sudo tail -f /var/log/nginx/toogo_error.log

# æµ‹è¯•åç«¯API
curl http://localhost:8000/api/health
```

### æ•°æ®åº“è¿æ¥å¤±è´¥

```bash
# æµ‹è¯•æ•°æ®åº“è¿æ¥
psql -h 127.0.0.1 -U hotgo_user -d hotgo

# æ£€æŸ¥PostgreSQLæ—¥å¿—
sudo tail -f /var/log/postgresql/postgresql-14-main.log
```

---

## ğŸ¯ ä¸‹ä¸€æ­¥æ“ä½œ

éƒ¨ç½²å®Œæˆåï¼Œä½ éœ€è¦ï¼š

1. âœ… åœ¨æµè§ˆå™¨ä¸­è®¿é—®ç³»ç»Ÿ
2. âœ… è¿›è¡Œåˆå§‹ç³»ç»Ÿé…ç½®
3. âœ… é…ç½®äº¤æ˜“æ‰€APIå¯†é’¥
4. âœ… åˆ›å»ºå’Œç®¡ç†äº¤æ˜“æœºå™¨äºº
5. âœ… è®¾ç½®ç›‘æ§å’Œå‘Šè­¦

---

## ğŸ“ è·å–å¸®åŠ©

å¦‚æœéƒ¨ç½²è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼š

1. **æŸ¥çœ‹æ—¥å¿—**: `sudo journalctl -u toogo -f`
2. **æ£€æŸ¥æœåŠ¡çŠ¶æ€**: `sudo systemctl status toogo`
3. **æµ‹è¯•ç½‘ç»œè¿æ¥**: `curl http://localhost:8000/api/health`
4. **æ£€æŸ¥é…ç½®æ–‡ä»¶**: `cat /opt/toogo/toogo_v2/server/manifest/config/config.yaml`

è®°å¾—ä¿å­˜å¥½å¯†ç å’Œé…ç½®æ–‡ä»¶ï¼Œå®šæœŸå¤‡ä»½æ•°æ®ï¼

**ç¥éƒ¨ç½²é¡ºåˆ©ï¼ğŸš€**