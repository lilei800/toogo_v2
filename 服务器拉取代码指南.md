# æœåŠ¡å™¨æ‹‰å–ä»£ç æŒ‡å—

## ğŸ“‹ å‰ææ¡ä»¶

- âœ… ä»£ç å·²æ¨é€åˆ°GitHubï¼šhttps://github.com/lilei800/toogo_v2.git
- âœ… å·²SSHè¿æ¥åˆ°æœåŠ¡å™¨
- âœ… æœåŠ¡å™¨å·²å®‰è£…Git

---

## ğŸš€ æ–¹æ³•1ï¼šä½¿ç”¨Gitå…‹éš†ï¼ˆæ¨èï¼‰

### æ­¥éª¤1ï¼šSSHè¿æ¥åˆ°æœåŠ¡å™¨

```bash
ssh ä½ çš„ç”¨æˆ·å@æœåŠ¡å™¨IP
# ä¾‹å¦‚ï¼šssh root@123.456.789.0
```

### æ­¥éª¤2ï¼šè¿›å…¥é¡¹ç›®ç›®å½•

```bash
# åˆ›å»ºé¡¹ç›®ç›®å½•ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰
sudo mkdir -p /opt/hotgo
sudo chown -R $USER:$USER /opt/hotgo

# è¿›å…¥ç›®å½•
cd /opt/hotgo
```

### æ­¥éª¤3ï¼šå…‹éš†ä»£ç 

#### é€‰é¡¹Aï¼šä½¿ç”¨HTTPSï¼ˆç®€å•ï¼Œéœ€è¦è¾“å…¥GitHubç”¨æˆ·åå’ŒTokenï¼‰

```bash
git clone https://github.com/lilei800/toogo_v2.git
```

**è¾“å…¥æç¤ºæ—¶ï¼š**
- Username: `lilei800`
- Password: è¾“å…¥ä½ çš„GitHub Personal Access Tokenï¼ˆä¸æ˜¯å¯†ç ï¼‰

#### é€‰é¡¹Bï¼šä½¿ç”¨SSHï¼ˆæ¨èï¼Œæ›´å®‰å…¨ï¼‰

**é¦–å…ˆåœ¨æœåŠ¡å™¨ä¸Šé…ç½®SSHå¯†é’¥ï¼š**

```bash
# 1. ç”ŸæˆSSHå¯†é’¥ï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰
ssh-keygen -t ed25519 -C "server@toogo_v2"
# æŒ‰å›è½¦ä½¿ç”¨é»˜è®¤è·¯å¾„ï¼Œè®¾ç½®å¯†ç ï¼ˆå¯é€‰ï¼‰

# 2. æ˜¾ç¤ºå…¬é’¥
cat ~/.ssh/id_ed25519.pub

# 3. å¤åˆ¶å…¬é’¥å†…å®¹ï¼Œæ·»åŠ åˆ°GitHub: https://github.com/settings/keys
#    Title: toogo_v2_server
#    Key: ç²˜è´´å…¬é’¥å†…å®¹

# 4. æµ‹è¯•SSHè¿æ¥
ssh -T git@github.com
# åº”è¯¥çœ‹åˆ°: Hi lilei800! You've successfully authenticated...

# 5. å…‹éš†ä»£ç 
git clone git@github.com:lilei800/toogo_v2.git
```

### æ­¥éª¤4ï¼šè¿›å…¥é¡¹ç›®ç›®å½•

```bash
cd /opt/hotgo/toogo_v2
```

### æ­¥éª¤5ï¼šæ£€æŸ¥ä»£ç 

```bash
ls -la
# åº”è¯¥çœ‹åˆ° server/, web/, ç­‰ç›®å½•
```

---

## ğŸ”„ æ–¹æ³•2ï¼šå¦‚æœæœåŠ¡å™¨å·²æœ‰ä»£ç ï¼Œä½¿ç”¨Git Pullæ›´æ–°

å¦‚æœæœåŠ¡å™¨ä¸Šå·²ç»æœ‰ä»£ç ï¼Œåªéœ€è¦æ›´æ–°ï¼š

```bash
cd /opt/hotgo/toogo_v2

# æ‹‰å–æœ€æ–°ä»£ç 
git pull origin main

# æˆ–è€…å¦‚æœä¸åœ¨mainåˆ†æ”¯
git checkout main
git pull origin main
```

---

## ğŸ“ å®Œæ•´éƒ¨ç½²æµç¨‹ï¼ˆç»“åˆéƒ¨ç½²è„šæœ¬ï¼‰

### ç¬¬ä¸€æ¬¡éƒ¨ç½²ï¼š

```bash
# 1. SSHè¿æ¥åˆ°æœåŠ¡å™¨
ssh ä½ çš„ç”¨æˆ·å@æœåŠ¡å™¨IP

# 2. åˆ›å»ºç›®å½•
sudo mkdir -p /opt/hotgo
sudo chown -R $USER:$USER /opt/hotgo
cd /opt/hotgo

# 3. å…‹éš†ä»£ç 
git clone https://github.com/lilei800/toogo_v2.git
# æˆ–ä½¿ç”¨SSH: git clone git@github.com:lilei800/toogo_v2.git

# 4. è¿›å…¥é¡¹ç›®ç›®å½•
cd toogo_v2

# 5. è¿è¡Œéƒ¨ç½²è„šæœ¬ï¼ˆå¦‚æœæœ‰ä¸€é”®éƒ¨ç½²è„šæœ¬ï¼‰
bash ä¸€é”®éƒ¨ç½²è„šæœ¬.sh

# æˆ–æ‰‹åŠ¨éƒ¨ç½²ï¼ˆå‚è€ƒéƒ¨ç½²æŒ‡å—ï¼‰
cd server
# ... æŒ‰ç…§éƒ¨ç½²æŒ‡å—æ“ä½œ
```

### æ›´æ–°ä»£ç ï¼š

```bash
# 1. SSHè¿æ¥åˆ°æœåŠ¡å™¨
ssh ä½ çš„ç”¨æˆ·å@æœåŠ¡å™¨IP

# 2. è¿›å…¥é¡¹ç›®ç›®å½•
cd /opt/hotgo/toogo_v2

# 3. æ‹‰å–æœ€æ–°ä»£ç 
git pull origin main

# 4. é‡æ–°ç¼–è¯‘ï¼ˆå¦‚æœéœ€è¦ï¼‰
cd server
go build -o main main.go

# 5. é‡å¯æœåŠ¡
sudo systemctl restart hotgo
```

---

## ğŸ” é…ç½®æœåŠ¡å™¨SSHå¯†é’¥ï¼ˆæ¨èï¼‰

### æ­¥éª¤1ï¼šç”ŸæˆSSHå¯†é’¥

```bash
# åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œ
ssh-keygen -t ed25519 -C "server@toogo_v2"
# æŒ‰å›è½¦ä½¿ç”¨é»˜è®¤è·¯å¾„: ~/.ssh/id_ed25519
# è®¾ç½®å¯†ç ï¼ˆå¯é€‰ï¼Œå»ºè®®è®¾ç½®ï¼‰
```

### æ­¥éª¤2ï¼šæ˜¾ç¤ºå…¬é’¥

```bash
cat ~/.ssh/id_ed25519.pub
```

### æ­¥éª¤3ï¼šæ·»åŠ åˆ°GitHub

1. å¤åˆ¶å…¬é’¥å†…å®¹
2. è®¿é—®ï¼šhttps://github.com/settings/keys
3. ç‚¹å‡» "New SSH key"
4. Title: `toogo_v2_server`
5. Key: ç²˜è´´å…¬é’¥
6. ç‚¹å‡» "Add SSH key"

### æ­¥éª¤4ï¼šæµ‹è¯•è¿æ¥

```bash
ssh -T git@github.com
# åº”è¯¥çœ‹åˆ°: Hi lilei800! You've successfully authenticated...
```

### æ­¥éª¤5ï¼šå…‹éš†ä»£ç 

```bash
git clone git@github.com:lilei800/toogo_v2.git
```

---

## ğŸ› ï¸ ä½¿ç”¨FinalShellæˆ–å…¶ä»–SSHå·¥å…·

å¦‚æœä½ ä½¿ç”¨FinalShellã€Xshellç­‰å·¥å…·ï¼š

### FinalShellæ“ä½œæ­¥éª¤ï¼š

1. **è¿æ¥åˆ°æœåŠ¡å™¨**
   - åœ¨FinalShellä¸­æ‰“å¼€SSHè¿æ¥
   - è¿æ¥åˆ°ä½ çš„æœåŠ¡å™¨

2. **æ‰“å¼€ç»ˆç«¯**
   - åœ¨FinalShellä¸­æ‰“å¼€ç»ˆç«¯çª—å£

3. **æ‰§è¡Œå…‹éš†å‘½ä»¤**
   ```bash
   cd /opt/hotgo
   git clone https://github.com/lilei800/toogo_v2.git
   ```

4. **è¾“å…¥GitHubå‡­è¯**
   - Username: `lilei800`
   - Password: GitHub Personal Access Token

---

## ğŸ“‹ å¿«é€Ÿå‘½ä»¤å‚è€ƒ

### å…‹éš†ä»£ç 

```bash
# HTTPSæ–¹å¼
git clone https://github.com/lilei800/toogo_v2.git

# SSHæ–¹å¼ï¼ˆæ¨èï¼‰
git clone git@github.com:lilei800/toogo_v2.git
```

### æ›´æ–°ä»£ç 

```bash
cd /opt/hotgo/toogo_v2
git pull origin main
```

### æŸ¥çœ‹ä»£ç çŠ¶æ€

```bash
cd /opt/hotgo/toogo_v2
git status
git log --oneline -5
```

### åˆ‡æ¢åˆ°ç‰¹å®šåˆ†æ”¯

```bash
git checkout main
git checkout v2.0
```

---

## ğŸ” å¸¸è§é—®é¢˜

### Q1: å…‹éš†æ—¶æç¤ºè®¤è¯å¤±è´¥ï¼Ÿ

**A:** 
- HTTPSæ–¹å¼ï¼šç¡®ä¿ä½¿ç”¨Personal Access Tokenï¼Œä¸æ˜¯GitHubå¯†ç 
- SSHæ–¹å¼ï¼šç¡®ä¿SSHå¯†é’¥å·²æ·»åŠ åˆ°GitHub

### Q2: å…‹éš†é€Ÿåº¦å¾ˆæ…¢ï¼Ÿ

**A:**
- ä½¿ç”¨SSHæ–¹å¼é€šå¸¸æ›´å¿«
- å¦‚æœåœ¨ä¸­å›½å¤§é™†ï¼Œå¯èƒ½éœ€è¦ä½¿ç”¨ä»£ç†æˆ–VPN
- æˆ–è€…ä½¿ç”¨GitHubé•œåƒï¼ˆä¸æ¨èï¼Œå¯èƒ½ä¸ç¨³å®šï¼‰

### Q3: å¦‚ä½•é…ç½®Gitç”¨æˆ·ä¿¡æ¯ï¼Ÿ

**A:**
```bash
git config --global user.name "Your Name"
git config --global user.email "your_email@example.com"
```

### Q4: å¦‚ä½•åªæ‹‰å–ç‰¹å®šç›®å½•ï¼Ÿ

**A:**
Gitä¸æ”¯æŒåªå…‹éš†éƒ¨åˆ†ç›®å½•ï¼Œä½†å¯ä»¥ä½¿ç”¨sparse checkoutï¼š

```bash
git clone --filter=blob:none --sparse https://github.com/lilei800/toogo_v2.git
cd toogo_v2
git sparse-checkout set server
```

---

## ğŸ¯ æ¨èæµç¨‹

### ç¬¬ä¸€æ¬¡éƒ¨ç½²ï¼š

```bash
# 1. SSHè¿æ¥æœåŠ¡å™¨
ssh ä½ çš„ç”¨æˆ·å@æœåŠ¡å™¨IP

# 2. å®‰è£…Gitï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰
sudo apt update
sudo apt install -y git

# 3. é…ç½®Gitç”¨æˆ·ä¿¡æ¯
git config --global user.name "Server"
git config --global user.email "server@toogo_v2"

# 4. å…‹éš†ä»£ç 
cd /opt/hotgo
git clone https://github.com/lilei800/toogo_v2.git

# 5. è¿›å…¥é¡¹ç›®ç›®å½•
cd toogo_v2

# 6. è¿è¡Œéƒ¨ç½²è„šæœ¬æˆ–æ‰‹åŠ¨éƒ¨ç½²
bash ä¸€é”®éƒ¨ç½²è„šæœ¬.sh
```

### æ›´æ–°ä»£ç ï¼š

```bash
# 1. SSHè¿æ¥æœåŠ¡å™¨
ssh ä½ çš„ç”¨æˆ·å@æœåŠ¡å™¨IP

# 2. è¿›å…¥é¡¹ç›®ç›®å½•
cd /opt/hotgo/toogo_v2

# 3. æ‹‰å–æœ€æ–°ä»£ç 
git pull origin main

# 4. é‡æ–°ç¼–è¯‘å’Œé‡å¯ï¼ˆå¦‚æœéœ€è¦ï¼‰
cd server
go build -o main main.go
sudo systemctl restart hotgo
```

---

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœé‡åˆ°é—®é¢˜ï¼š
1. æ£€æŸ¥ç½‘ç»œè¿æ¥ï¼š`ping github.com`
2. æ£€æŸ¥Gitæ˜¯å¦å®‰è£…ï¼š`git --version`
3. æŸ¥çœ‹è¯¦ç»†é”™è¯¯ä¿¡æ¯
4. å‚è€ƒGitHubæ–‡æ¡£ï¼šhttps://docs.github.com/

---

**å®Œæˆè¿™äº›æ­¥éª¤åï¼Œä»£ç å°±ä¼šåœ¨æœåŠ¡å™¨ä¸Šäº†ï¼** ğŸ‰
