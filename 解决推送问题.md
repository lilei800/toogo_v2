# è§£å†³GitHubæ¨é€é—®é¢˜

## ğŸ” é—®é¢˜åˆ†æ

**é”™è¯¯ä¿¡æ¯ï¼š** `fatal: unable to access 'https://github.com/...': Empty reply from server`

**åŸå› ï¼š**
1. Tokenç›´æ¥åµŒå…¥åœ¨URLä¸­ï¼ŒGitHubå¯èƒ½æ‹’ç»è¿™ç§ä¸å®‰å…¨çš„æ–¹å¼
2. Tokenå¯èƒ½å·²è¿‡æœŸæˆ–æ— æ•ˆ
3. ç½‘ç»œè¿æ¥é—®é¢˜

## âœ… è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆ1ï¼šä½¿ç”¨Credential Helperï¼ˆæ¨èï¼‰

#### æ­¥éª¤1ï¼šç§»é™¤URLä¸­çš„token

```bash
git remote set-url origin https://github.com/lilei800/toogo_v2.git
```

#### æ­¥éª¤2ï¼šé…ç½®Credential Helper

```bash
# Windows
git config --global credential.helper manager-core

# æˆ–ä½¿ç”¨wincred
git config --global credential.helper wincred
```

#### æ­¥éª¤3ï¼šæ¨é€æ—¶ä¼šæç¤ºè¾“å…¥å‡­è¯

```bash
git push origin main
```

**è¾“å…¥ä¿¡æ¯ï¼š**
- Username: `lilei800`
- Password: è¾“å…¥ä½ çš„Personal Access Tokenï¼ˆä¸æ˜¯GitHubå¯†ç ï¼‰

### æ–¹æ¡ˆ2ï¼šä½¿ç”¨SSHæ–¹å¼ï¼ˆæœ€å®‰å…¨ï¼‰

#### æ­¥éª¤1ï¼šç”ŸæˆSSHå¯†é’¥ï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰

```bash
# æ£€æŸ¥æ˜¯å¦å·²æœ‰SSHå¯†é’¥
ls ~/.ssh/id_ed25519.pub
# æˆ– Windows
dir %USERPROFILE%\.ssh\id_ed25519.pub

# å¦‚æœæ²¡æœ‰ï¼Œç”Ÿæˆæ–°çš„
ssh-keygen -t ed25519 -C "your_email@example.com"
# æŒ‰å›è½¦ä½¿ç”¨é»˜è®¤è·¯å¾„ï¼Œè®¾ç½®å¯†ç ï¼ˆå¯é€‰ï¼‰
```

#### æ­¥éª¤2ï¼šæ·»åŠ SSHå¯†é’¥åˆ°GitHub

```bash
# å¤åˆ¶å…¬é’¥å†…å®¹
cat ~/.ssh/id_ed25519.pub
# æˆ– Windows PowerShell
Get-Content ~/.ssh/id_ed25519.pub
```

1. è®¿é—®ï¼šhttps://github.com/settings/keys
2. ç‚¹å‡» "New SSH key"
3. Title: `toogo_v2_windows`
4. Key: ç²˜è´´å…¬é’¥å†…å®¹
5. ç‚¹å‡» "Add SSH key"

#### æ­¥éª¤3ï¼šæ›´æ”¹è¿œç¨‹URLä¸ºSSH

```bash
git remote set-url origin git@github.com:lilei800/toogo_v2.git
```

#### æ­¥éª¤4ï¼šæµ‹è¯•SSHè¿æ¥

```bash
ssh -T git@github.com
# åº”è¯¥çœ‹åˆ°: Hi lilei800! You've successfully authenticated...
```

#### æ­¥éª¤5ï¼šæ¨é€

```bash
git push origin main
```

### æ–¹æ¡ˆ3ï¼šæ›´æ–°Personal Access Token

å¦‚æœtokenå·²è¿‡æœŸï¼Œéœ€è¦ç”Ÿæˆæ–°çš„ï¼š

1. è®¿é—®ï¼šhttps://github.com/settings/tokens
2. æ‰¾åˆ°æ—§çš„tokenï¼Œåˆ é™¤æˆ–ç”Ÿæˆæ–°çš„
3. ç”Ÿæˆæ–°tokenæ—¶ï¼š
   - Note: `toogo_v2_push`
   - Expiration: 90 days æˆ– No expiration
   - Scopes: å‹¾é€‰ `repo`
4. å¤åˆ¶æ–°token
5. ä½¿ç”¨æ–¹æ¡ˆ1æˆ–æ–¹æ¡ˆ2é…ç½®

## ğŸš€ å¿«é€Ÿè§£å†³æ­¥éª¤

### æ¨èæµç¨‹ï¼š

```bash
# 1. ç§»é™¤URLä¸­çš„token
git remote set-url origin https://github.com/lilei800/toogo_v2.git

# 2. é…ç½®credential helper
git config --global credential.helper manager-core

# 3. æ¨é€ï¼ˆä¼šæç¤ºè¾“å…¥ç”¨æˆ·åå’Œtokenï¼‰
git push origin main
```

**è¾“å…¥æç¤ºæ—¶ï¼š**
- Username: `lilei800`
- Password: `ä½ çš„Personal Access Token`

## ğŸ”’ å®‰å…¨å»ºè®®

1. **ä¸è¦å°†tokenç›´æ¥æ”¾åœ¨URLä¸­**
   - âŒ `https://token@github.com/...`
   - âœ… ä½¿ç”¨credential helperæˆ–SSH

2. **ä½¿ç”¨SSHæ–¹å¼æ›´å®‰å…¨**
   - ä¸éœ€è¦åœ¨URLä¸­æš´éœ²token
   - æ›´å®‰å…¨å¯é 

3. **å®šæœŸæ›´æ–°token**
   - å»ºè®®æ¯90å¤©æ›´æ–°ä¸€æ¬¡
   - å¦‚æœæ³„éœ²ï¼Œç«‹å³æ’¤é”€

## ğŸ“ éªŒè¯é…ç½®

```bash
# æ£€æŸ¥è¿œç¨‹URLï¼ˆåº”è¯¥ä¸åŒ…å«tokenï¼‰
git remote -v

# æ£€æŸ¥credential helperé…ç½®
git config --global credential.helper

# æµ‹è¯•è¿æ¥ï¼ˆSSHæ–¹å¼ï¼‰
ssh -T git@github.com
```

## ğŸ› å¸¸è§é—®é¢˜

### Q1: ä»ç„¶æç¤ºè®¤è¯å¤±è´¥ï¼Ÿ

**A:** 
1. æ£€æŸ¥tokenæ˜¯å¦æœ‰æ•ˆï¼šhttps://github.com/settings/tokens
2. ç¡®ä¿tokenæœ‰`repo`æƒé™
3. å°è¯•ä½¿ç”¨SSHæ–¹å¼

### Q2: Credential Helperä¸å·¥ä½œï¼Ÿ

**A:**
```bash
# æ¸…é™¤å·²ä¿å­˜çš„å‡­è¯
git credential-manager-core erase
# æˆ–
git credential reject https://github.com

# é‡æ–°æ¨é€ï¼Œä¼šé‡æ–°æç¤ºè¾“å…¥
```

### Q3: SSHè¿æ¥å¤±è´¥ï¼Ÿ

**A:**
```bash
# æ£€æŸ¥SSHå¯†é’¥æ˜¯å¦æ·»åŠ åˆ°GitHub
ssh -T git@github.com

# å¦‚æœæç¤ºæƒé™è¢«æ‹’ç»ï¼Œæ£€æŸ¥ï¼š
# 1. å…¬é’¥æ˜¯å¦æ­£ç¡®æ·»åŠ åˆ°GitHub
# 2. SSH agentæ˜¯å¦è¿è¡Œ
ssh-add ~/.ssh/id_ed25519
```

## ğŸ¯ æ¨èé…ç½®ï¼ˆSSHæ–¹å¼ï¼‰

```bash
# 1. ç”ŸæˆSSHå¯†é’¥
ssh-keygen -t ed25519 -C "your_email@example.com"

# 2. å¤åˆ¶å…¬é’¥å¹¶æ·»åŠ åˆ°GitHub
cat ~/.ssh/id_ed25519.pub

# 3. æ›´æ”¹è¿œç¨‹URL
git remote set-url origin git@github.com:lilei800/toogo_v2.git

# 4. æµ‹è¯•è¿æ¥
ssh -T git@github.com

# 5. æ¨é€
git push origin main
```

---

**æœ€åæ›´æ–°**: 2025-01-07
