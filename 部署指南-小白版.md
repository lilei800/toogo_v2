# HotGo_v2 éƒ¨ç½²æŒ‡å— - å°ç™½ç‰ˆ

> **é€‚ç”¨ç¯å¢ƒ**: Ubuntu 24.04 LTS  
> **æœåŠ¡å™¨é…ç½®**: 2 vCPUs, 4GB RAM, 128GB NVMe  
> **é¢„è®¡æ—¶é—´**: 60-90åˆ†é’Ÿ  
> **éš¾åº¦**: â­â­ ç®€å•

---

## ğŸ“‹ éƒ¨ç½²å‰å‡†å¤‡

### 1. ç¡®è®¤æœåŠ¡å™¨ä¿¡æ¯
- âœ… å·²è¿æ¥SSHæœåŠ¡å™¨
- âœ… æœåŠ¡å™¨IPåœ°å€: `ä½ çš„æœåŠ¡å™¨IP`
- âœ… æ“ä½œç³»ç»Ÿ: Ubuntu 24.04 LTS
- âœ… æœ‰sudoæƒé™

### 2. éœ€è¦å®‰è£…çš„è½¯ä»¶æ¸…å•
- Go 1.24+ (ç¼–è¯‘Goç¨‹åº)
- PostgreSQL 14+ (æ•°æ®åº“)
- Redis 7+ (ç¼“å­˜)
- Nginx (WebæœåŠ¡å™¨å’Œåå‘ä»£ç†)

---

## ğŸš€ ç¬¬ä¸€æ­¥ï¼šç³»ç»Ÿåˆå§‹åŒ– (10åˆ†é’Ÿ)

### 1.1 æ›´æ–°ç³»ç»Ÿè½¯ä»¶åŒ…

```bash
# æ›´æ–°è½¯ä»¶åŒ…åˆ—è¡¨
sudo apt update

# å‡çº§å·²å®‰è£…çš„è½¯ä»¶åŒ…
sudo apt upgrade -y

# å®‰è£…åŸºç¡€å·¥å…·
sudo apt install -y curl wget git vim htop net-tools unzip build-essential software-properties-common
```

### 1.2 è®¾ç½®æ—¶åŒº

```bash
# è®¾ç½®ä¸ºä¸­å›½æ—¶åŒº
sudo timedatectl set-timezone Asia/Shanghai

# éªŒè¯æ—¶åŒº
date
# åº”è¯¥æ˜¾ç¤ºåŒ—äº¬æ—¶é—´
```

### 1.3 é…ç½®é˜²ç«å¢™

```bash
# å®‰è£…é˜²ç«å¢™å·¥å…·
sudo apt install -y ufw

# å¼€æ”¾å¿…è¦ç«¯å£
sudo ufw allow 22/tcp      # SSHç«¯å£
sudo ufw allow 80/tcp      # HTTPç«¯å£
sudo ufw allow 443/tcp     # HTTPSç«¯å£

# å¯ç”¨é˜²ç«å¢™
sudo ufw --force enable

# æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€
sudo ufw status
```

---

## ğŸ”§ ç¬¬äºŒæ­¥ï¼šå®‰è£…Goè¯­è¨€ç¯å¢ƒ (5åˆ†é’Ÿ)

```bash
# ä¸‹è½½Go 1.24.4 (æœ€æ–°ç‰ˆæœ¬)
cd /tmp
wget https://go.dev/dl/go1.24.4.linux-amd64.tar.gz

# åˆ é™¤æ—§ç‰ˆæœ¬ï¼ˆå¦‚æœæœ‰ï¼‰
sudo rm -rf /usr/local/go

# è§£å‹åˆ° /usr/local
sudo tar -C /usr/local -xzf go1.24.4.linux-amd64.tar.gz

# é…ç½®ç¯å¢ƒå˜é‡
echo 'export PATH=$PATH:/usr/local/go/bin' | sudo tee -a /etc/profile
echo 'export GOPATH=$HOME/go' | sudo tee -a /etc/profile
echo 'export PATH=$PATH:$GOPATH/bin' | sudo tee -a /etc/profile

# ä½¿é…ç½®ç”Ÿæ•ˆ
source /etc/profile

# éªŒè¯å®‰è£…
go version
# åº”è¯¥æ˜¾ç¤º: go version go1.24.4 linux/amd64

# é…ç½®Goä»£ç†ï¼ˆåŠ é€Ÿä¸‹è½½ï¼Œå¯é€‰ï¼‰
go env -w GOPROXY=https://goproxy.cn,direct
go env -w GO111MODULE=on
```

---

## ğŸ—„ï¸ ç¬¬ä¸‰æ­¥ï¼šå®‰è£…PostgreSQLæ•°æ®åº“ (10åˆ†é’Ÿ)

### 3.1 å®‰è£…PostgreSQL

```bash
# æ·»åŠ PostgreSQLå®˜æ–¹ä»“åº“
sudo sh -c 'echo "deb http://apt.postgresql.org/pub/repos/apt $(lsb_release -cs)-pgdg main" > /etc/apt/sources.list.d/pgdg.list'

# æ·»åŠ GPGå¯†é’¥
wget --quiet -O - https://www.postgresql.org/media/keys/ACCC4CF8.asc | sudo apt-key add -

# æ›´æ–°è½¯ä»¶åŒ…åˆ—è¡¨
sudo apt update

# å®‰è£…PostgreSQL 14
sudo apt install -y postgresql-14 postgresql-contrib-14

# å¯åŠ¨PostgreSQLæœåŠ¡
sudo systemctl start postgresql
sudo systemctl enable postgresql

# éªŒè¯æœåŠ¡çŠ¶æ€
sudo systemctl status postgresql
# åº”è¯¥æ˜¾ç¤º active (running)
```

### 3.2 é…ç½®PostgreSQLæ•°æ®åº“

```bash
# åˆ‡æ¢åˆ°postgresç”¨æˆ·
sudo -u postgres psql

# åœ¨PostgreSQLå‘½ä»¤è¡Œä¸­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼ˆæ³¨æ„ï¼šæ¯è¡Œæœ«å°¾æœ‰åˆ†å·ï¼‰
CREATE DATABASE hotgo;

CREATE USER hotgo_user WITH PASSWORD 'HotGo2024!@#$';  -- è¯·ä¿®æ”¹ä¸ºä½ çš„å¼ºå¯†ç 

GRANT ALL PRIVILEGES ON DATABASE hotgo TO hotgo_user;

\q  -- é€€å‡ºPostgreSQLå‘½ä»¤è¡Œ
```

**âš ï¸ é‡è¦**: è¯·è®°ä½ä½ è®¾ç½®çš„æ•°æ®åº“å¯†ç ï¼Œåé¢é…ç½®æ–‡ä»¶ä¸­éœ€è¦ç”¨åˆ°ï¼

### 3.3 ä¼˜åŒ–PostgreSQLé…ç½®ï¼ˆé€‚åˆ4GBå†…å­˜ï¼‰

```bash
# ç¼–è¾‘PostgreSQLé…ç½®æ–‡ä»¶
sudo vim /etc/postgresql/14/main/postgresql.conf
```

æ‰¾åˆ°ä»¥ä¸‹é…ç½®é¡¹å¹¶ä¿®æ”¹ï¼ˆå¦‚æœæ‰¾ä¸åˆ°ï¼Œåœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ ï¼‰ï¼š

```ini
# å†…å­˜é…ç½®ï¼ˆé€‚åˆ4GBæœåŠ¡å™¨ï¼‰
shared_buffers = 1GB
effective_cache_size = 3GB
maintenance_work_mem = 256MB
work_mem = 16MB

# è¿æ¥é…ç½®
max_connections = 50

# æ€§èƒ½ä¼˜åŒ–ï¼ˆNVMe SSDï¼‰
random_page_cost = 1.1
effective_io_concurrency = 200
```

ä¿å­˜æ–‡ä»¶ï¼ˆæŒ‰ `Esc`ï¼Œç„¶åè¾“å…¥ `:wq` å›è½¦ï¼‰

```bash
# é‡å¯PostgreSQLä½¿é…ç½®ç”Ÿæ•ˆ
sudo systemctl restart postgresql
```

---

## ğŸ”´ ç¬¬å››æ­¥ï¼šå®‰è£…Redis (5åˆ†é’Ÿ)

```bash
# å®‰è£…Redis
sudo apt install -y redis-server

# ç¼–è¾‘Redisé…ç½®æ–‡ä»¶
sudo vim /etc/redis/redis.conf
```

æ‰¾åˆ°å¹¶ä¿®æ”¹ä»¥ä¸‹é…ç½®ï¼š

```ini
# 1. ç»‘å®šåœ°å€ï¼ˆåªç›‘å¬æœ¬åœ°ï¼Œå®‰å…¨ï¼‰
bind 127.0.0.1

# 2. è®¾ç½®å¯†ç ï¼ˆæ‰¾åˆ° requirepass è¿™ä¸€è¡Œï¼Œå–æ¶ˆæ³¨é‡Šå¹¶è®¾ç½®å¯†ç ï¼‰
requirepass Redis2024!@#$  -- è¯·ä¿®æ”¹ä¸ºä½ çš„å¼ºå¯†ç 

# 3. å†…å­˜é™åˆ¶ï¼ˆé€‚åˆ4GBæœåŠ¡å™¨ï¼‰
maxmemory 1gb
maxmemory-policy allkeys-lru
```

ä¿å­˜æ–‡ä»¶å¹¶é‡å¯Redisï¼š

```bash
# é‡å¯RedisæœåŠ¡
sudo systemctl restart redis-server
sudo systemctl enable redis-server

# éªŒè¯Redisæ˜¯å¦æ­£å¸¸è¿è¡Œ
redis-cli
# åœ¨redis-cliä¸­è¾“å…¥ï¼š
AUTH Redis2024!@#$  -- ä½¿ç”¨ä½ è®¾ç½®çš„å¯†ç 
PING
# åº”è¯¥è¿”å›: PONG
exit
```

**âš ï¸ é‡è¦**: è¯·è®°ä½ä½ è®¾ç½®çš„Rediså¯†ç ï¼Œåé¢é…ç½®æ–‡ä»¶ä¸­éœ€è¦ç”¨åˆ°ï¼

---

## ğŸŒ ç¬¬äº”æ­¥ï¼šå®‰è£…Nginx (5åˆ†é’Ÿ)

```bash
# å®‰è£…Nginx
sudo apt install -y nginx

# å¯åŠ¨NginxæœåŠ¡
sudo systemctl start nginx
sudo systemctl enable nginx

# éªŒè¯NginxçŠ¶æ€
sudo systemctl status nginx

# æµ‹è¯•è®¿é—®ï¼ˆåœ¨æµè§ˆå™¨ä¸­è®¿é—®ä½ çš„æœåŠ¡å™¨IPï¼‰
# http://ä½ çš„æœåŠ¡å™¨IP
# åº”è¯¥çœ‹åˆ°Nginxæ¬¢è¿é¡µé¢
```

---

## ğŸ“¦ ç¬¬å…­æ­¥ï¼šéƒ¨ç½²åº”ç”¨ä»£ç  (15åˆ†é’Ÿ)

### 6.1 åˆ›å»ºé¡¹ç›®ç›®å½•

```bash
# åˆ›å»ºåº”ç”¨ç›®å½•
sudo mkdir -p /opt/hotgo
sudo chown -R $USER:$USER /opt/hotgo

# è¿›å…¥ç›®å½•
cd /opt/hotgo
```

### 6.2 ä¸Šä¼ ä»£ç åˆ°æœåŠ¡å™¨

**æ–¹æ³•1ï¼šä½¿ç”¨Gitï¼ˆæ¨èï¼Œå¦‚æœæœ‰Gitä»“åº“ï¼‰**

```bash
# å…‹éš†ä»£ç ï¼ˆæ›¿æ¢ä¸ºä½ çš„ä»“åº“åœ°å€ï¼‰
git clone https://github.com/ä½ çš„ç”¨æˆ·å/hotgo_v2.git

cd /opt/hotgo/hotgo_v2/server
```

**æ–¹æ³•2ï¼šä½¿ç”¨SCPä»æœ¬åœ°ç”µè„‘ä¸Šä¼ **

åœ¨ä½ çš„**æœ¬åœ°ç”µè„‘**ä¸Šæ‰§è¡Œï¼ˆWindows PowerShellæˆ–Mac/Linuxç»ˆç«¯ï¼‰ï¼š

```bash
# Windows PowerShell
scp -r D:\go\src\hotgo_v2 hotgo@ä½ çš„æœåŠ¡å™¨IP:/opt/hotgo/

# Mac/Linux
scp -r /path/to/hotgo_v2 hotgo@ä½ çš„æœåŠ¡å™¨IP:/opt/hotgo/
```

ç„¶ååœ¨æœåŠ¡å™¨ä¸Šï¼š

```bash
cd /opt/hotgo/hotgo_v2/server
```

### 6.3 å®‰è£…Goä¾èµ–

```bash
# è¿›å…¥serverç›®å½•
cd /opt/hotgo/hotgo_v2/server

# ä¸‹è½½ä¾èµ–ï¼ˆå¯èƒ½éœ€è¦å‡ åˆ†é’Ÿï¼‰
go mod download

# éªŒè¯ä¾èµ–
go mod verify
```

### 6.4 é…ç½®åº”ç”¨

```bash
# å¤åˆ¶é…ç½®æ–‡ä»¶æ¨¡æ¿
cp manifest/config/config.example.yaml manifest/config/config.yaml

# ç¼–è¾‘é…ç½®æ–‡ä»¶
vim manifest/config/config.yaml
```

**å…³é”®é…ç½®é¡¹ä¿®æ”¹**ï¼ˆä½¿ç”¨vimç¼–è¾‘å™¨ï¼ŒæŒ‰ `i` è¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼‰ï¼š

æ‰¾åˆ°ä»¥ä¸‹é…ç½®å¹¶ä¿®æ”¹ï¼š

```yaml
# æ•°æ®åº“é…ç½®
database:
  default:
    host: "127.0.0.1"
    port: "5432"
    user: "hotgo_user"
    pass: "HotGo2024!@#$"  # æ”¹ä¸ºä½ è®¾ç½®çš„PostgreSQLå¯†ç 
    name: "hotgo"
    type: "pgsql"

# Redisé…ç½®
redis:
  default:
    address: "127.0.0.1:6379"
    db: 0
    pass: "Redis2024!@#$"  # æ”¹ä¸ºä½ è®¾ç½®çš„Rediså¯†ç 

# æœåŠ¡å™¨é…ç½®
server:
  address: "127.0.0.1:8000"  # åªç›‘å¬æœ¬åœ°ï¼Œé€šè¿‡Nginxä»£ç†
```

ä¿å­˜æ–‡ä»¶ï¼ˆæŒ‰ `Esc`ï¼Œè¾“å…¥ `:wq` å›è½¦ï¼‰

### 6.5 åˆå§‹åŒ–æ•°æ®åº“

```bash
# å¯¼å…¥æ•°æ®åº“ç»“æ„ï¼ˆä½¿ç”¨ä½ è®¾ç½®çš„PostgreSQLå¯†ç ï¼‰
PGPASSWORD='HotGo2024!@#$' psql -h 127.0.0.1 -U hotgo_user -d hotgo -f storage/data/hotgo-pg.sql

# å¦‚æœæœ‰å…¶ä»–SQLæ–‡ä»¶éœ€è¦å¯¼å…¥ï¼Œä¾æ¬¡æ‰§è¡Œï¼š
# PGPASSWORD='ä½ çš„å¯†ç ' psql -h 127.0.0.1 -U hotgo_user -d hotgo -f storage/data/trading_system.sql
```

### 6.6 ç¼–è¯‘åº”ç”¨

```bash
# ç¼–è¯‘Goç¨‹åº
go build -o main main.go

# èµ‹äºˆæ‰§è¡Œæƒé™
chmod +x main

# æµ‹è¯•è¿è¡Œï¼ˆæŒ‰ Ctrl+C åœæ­¢ï¼‰
./main http

# å¦‚æœèƒ½çœ‹åˆ°å¯åŠ¨ä¿¡æ¯ä¸”æ²¡æœ‰é”™è¯¯ï¼Œè¯´æ˜é…ç½®æ­£ç¡®
# æŒ‰ Ctrl+C åœæ­¢æµ‹è¯•
```

---

## âš™ï¸ ç¬¬ä¸ƒæ­¥ï¼šé…ç½®SystemdæœåŠ¡ (10åˆ†é’Ÿ)

### 7.1 åˆ›å»ºæœåŠ¡æ–‡ä»¶

```bash
sudo vim /etc/systemd/system/hotgo.service
```

å¤åˆ¶ä»¥ä¸‹å†…å®¹ï¼ˆæŒ‰ `i` è¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼Œç²˜è´´å†…å®¹ï¼‰ï¼š

```ini
[Unit]
Description=HotGo Trading System
After=network.target postgresql.service redis.service
Wants=postgresql.service redis.service

[Service]
Type=simple
User=ä½ çš„ç”¨æˆ·å  # æ›¿æ¢ä¸ºä½ çš„ç”¨æˆ·åï¼ˆå¯ä»¥ç”¨ whoami å‘½ä»¤æŸ¥çœ‹ï¼‰
Group=ä½ çš„ç”¨æˆ·å
WorkingDirectory=/opt/hotgo/hotgo_v2/server

ExecStart=/opt/hotgo/hotgo_v2/server/main http
ExecReload=/bin/kill -HUP $MAINPID

KillMode=mixed
KillSignal=SIGTERM
TimeoutStopSec=30
Restart=on-failure
RestartSec=5s

Environment="GF_GCFG_PATH=/opt/hotgo/hotgo_v2/server/manifest/config"
Environment="GF_GLOG_PATH=/opt/hotgo/hotgo_v2/server/logs"

LimitNOFILE=65536
LimitNPROC=4096

StandardOutput=journal
StandardError=journal
SyslogIdentifier=hotgo

[Install]
WantedBy=multi-user.target
```

ä¿å­˜æ–‡ä»¶ï¼ˆæŒ‰ `Esc`ï¼Œè¾“å…¥ `:wq` å›è½¦ï¼‰

### 7.2 å¯åŠ¨æœåŠ¡

```bash
# é‡æ–°åŠ è½½systemdé…ç½®
sudo systemctl daemon-reload

# è®¾ç½®å¼€æœºè‡ªå¯
sudo systemctl enable hotgo

# å¯åŠ¨æœåŠ¡
sudo systemctl start hotgo

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
sudo systemctl status hotgo

# æŸ¥çœ‹å®æ—¶æ—¥å¿—
sudo journalctl -u hotgo -f
# æŒ‰ Ctrl+C é€€å‡ºæ—¥å¿—æŸ¥çœ‹
```

---

## ğŸ”„ ç¬¬å…«æ­¥ï¼šé…ç½®Nginxåå‘ä»£ç† (10åˆ†é’Ÿ)

### 8.1 åˆ›å»ºNginxé…ç½®

```bash
sudo vim /etc/nginx/sites-available/hotgo
```

å¤åˆ¶ä»¥ä¸‹é…ç½®ï¼ˆæŒ‰ `i` è¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼‰ï¼š

```nginx
server {
    listen 80;
    server_name _;  # å¦‚æœæœ‰åŸŸåï¼Œæ›¿æ¢ä¸ºä½ çš„åŸŸå
    
    # æ—¥å¿—
    access_log /var/log/nginx/hotgo_access.log;
    error_log /var/log/nginx/hotgo_error.log;
    
    # å®¢æˆ·ç«¯ä¸Šä¼ å¤§å°é™åˆ¶
    client_max_body_size 50M;
    
    # å‰ç«¯é™æ€æ–‡ä»¶ï¼ˆå¦‚æœæœ‰å‰ç«¯ï¼‰
    location / {
        root /opt/hotgo/hotgo_v2/web/dist;
        try_files $uri $uri/ /index.html;
        index index.html;
    }
    
    # APIä»£ç†
    location /admin/ {
        proxy_pass http://127.0.0.1:8000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        
        proxy_connect_timeout 60s;
        proxy_send_timeout 60s;
        proxy_read_timeout 60s;
    }
    
    # WebSocketä»£ç†
    location /socket {
        proxy_pass http://127.0.0.1:8000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "upgrade";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        
        proxy_read_timeout 3600s;
        proxy_send_timeout 3600s;
    }
    
    # é™æ€èµ„æºç¼“å­˜
    location ~* \.(jpg|jpeg|png|gif|ico|css|js|svg|woff|woff2|ttf|eot)$ {
        root /opt/hotgo/hotgo_v2/web/dist;
        expires 7d;
        add_header Cache-Control "public, immutable";
    }
}
```

ä¿å­˜æ–‡ä»¶ï¼ˆæŒ‰ `Esc`ï¼Œè¾“å…¥ `:wq` å›è½¦ï¼‰

### 8.2 å¯ç”¨é…ç½®

```bash
# åˆ›å»ºè½¯é“¾æ¥
sudo ln -s /etc/nginx/sites-available/hotgo /etc/nginx/sites-enabled/

# åˆ é™¤é»˜è®¤é…ç½®ï¼ˆå¦‚æœå­˜åœ¨ï¼‰
sudo rm -f /etc/nginx/sites-enabled/default

# æµ‹è¯•Nginxé…ç½®
sudo nginx -t

# å¦‚æœæ˜¾ç¤º "test is successful"ï¼Œé‡å¯Nginx
sudo systemctl restart nginx
```

---

## âœ… ç¬¬ä¹æ­¥ï¼šéªŒè¯éƒ¨ç½² (5åˆ†é’Ÿ)

### 9.1 æ£€æŸ¥æ‰€æœ‰æœåŠ¡çŠ¶æ€

```bash
# æ£€æŸ¥Goåº”ç”¨
sudo systemctl status hotgo

# æ£€æŸ¥PostgreSQL
sudo systemctl status postgresql

# æ£€æŸ¥Redis
sudo systemctl status redis-server

# æ£€æŸ¥Nginx
sudo systemctl status nginx

# æ‰€æœ‰æœåŠ¡éƒ½åº”è¯¥æ˜¾ç¤º active (running)
```

### 9.2 æµ‹è¯•APIè®¿é—®

```bash
# æµ‹è¯•æœ¬åœ°API
curl http://localhost:8000/api/health

# æµ‹è¯•é€šè¿‡Nginxè®¿é—®
curl http://ä½ çš„æœåŠ¡å™¨IP/admin/api/health
```

### 9.3 è®¿é—®Webç•Œé¢

åœ¨æµè§ˆå™¨ä¸­è®¿é—®ï¼š
```
http://ä½ çš„æœåŠ¡å™¨IP
```

å¦‚æœé…ç½®äº†åŸŸåï¼š
```
http://ä½ çš„åŸŸå
```

---

## ğŸ”’ ç¬¬åæ­¥ï¼šé…ç½®SSLè¯ä¹¦ï¼ˆå¯é€‰ï¼Œæ¨èï¼‰

å¦‚æœä½ æœ‰åŸŸåï¼Œå»ºè®®é…ç½®HTTPSï¼š

```bash
# å®‰è£…Certbot
sudo apt install -y certbot python3-certbot-nginx

# è·å–SSLè¯ä¹¦ï¼ˆæ›¿æ¢ä¸ºä½ çš„åŸŸåï¼‰
sudo certbot --nginx -d yourdomain.com -d www.yourdomain.com

# æŒ‰ç…§æç¤ºè¾“å…¥é‚®ç®±å’ŒåŒæ„æ¡æ¬¾
# Certbotä¼šè‡ªåŠ¨é…ç½®Nginx

# æµ‹è¯•è‡ªåŠ¨ç»­æœŸ
sudo certbot renew --dry-run
```

---

## ğŸ“ å¸¸ç”¨è¿ç»´å‘½ä»¤

### åº”ç”¨ç®¡ç†

```bash
# å¯åŠ¨æœåŠ¡
sudo systemctl start hotgo

# åœæ­¢æœåŠ¡
sudo systemctl stop hotgo

# é‡å¯æœåŠ¡
sudo systemctl restart hotgo

# æŸ¥çœ‹çŠ¶æ€
sudo systemctl status hotgo

# æŸ¥çœ‹å®æ—¶æ—¥å¿—
sudo journalctl -u hotgo -f

# æŸ¥çœ‹æœ€è¿‘100è¡Œæ—¥å¿—
sudo journalctl -u hotgo -n 100
```

### æ•°æ®åº“ç®¡ç†

```bash
# è¿æ¥æ•°æ®åº“
psql -h 127.0.0.1 -U hotgo_user -d hotgo

# å¤‡ä»½æ•°æ®åº“
PGPASSWORD='ä½ çš„å¯†ç ' pg_dump -h 127.0.0.1 -U hotgo_user hotgo > backup.sql

# æ¢å¤æ•°æ®åº“
psql -h 127.0.0.1 -U hotgo_user -d hotgo < backup.sql
```

### æŸ¥çœ‹ç³»ç»Ÿèµ„æº

```bash
# æŸ¥çœ‹CPUå’Œå†…å­˜ä½¿ç”¨
htop

# æŸ¥çœ‹ç£ç›˜ä½¿ç”¨
df -h

# æŸ¥çœ‹å†…å­˜ä½¿ç”¨
free -h

# æŸ¥çœ‹ç½‘ç»œè¿æ¥
ss -tulnp
```

---

## ğŸ› æ•…éšœæ’æŸ¥

### æœåŠ¡æ— æ³•å¯åŠ¨

```bash
# æŸ¥çœ‹è¯¦ç»†é”™è¯¯æ—¥å¿—
sudo journalctl -u hotgo -xe

# æ£€æŸ¥ç«¯å£æ˜¯å¦è¢«å ç”¨
sudo ss -tulnp | grep 8000

# æ£€æŸ¥é…ç½®æ–‡ä»¶è¯­æ³•
cd /opt/hotgo/hotgo_v2/server
./main -check
```

### æ•°æ®åº“è¿æ¥å¤±è´¥

```bash
# æµ‹è¯•æ•°æ®åº“è¿æ¥
psql -h 127.0.0.1 -U hotgo_user -d hotgo

# æ£€æŸ¥PostgreSQLæ—¥å¿—
sudo tail -f /var/log/postgresql/postgresql-14-main.log

# æ£€æŸ¥é…ç½®æ–‡ä»¶ä¸­çš„æ•°æ®åº“å¯†ç æ˜¯å¦æ­£ç¡®
cat manifest/config/config.yaml | grep -A 10 database
```

### Nginx 502é”™è¯¯

```bash
# æ£€æŸ¥åç«¯æœåŠ¡æ˜¯å¦è¿è¡Œ
sudo systemctl status hotgo

# æ£€æŸ¥Nginxé”™è¯¯æ—¥å¿—
sudo tail -f /var/log/nginx/hotgo_error.log

# æµ‹è¯•åç«¯API
curl http://localhost:8000/api/health

# æ£€æŸ¥Nginxé…ç½®
sudo nginx -t
```

---

## ğŸ‰ éƒ¨ç½²å®Œæˆï¼

æ­å–œï¼ä½ çš„HotGo_v2ç³»ç»Ÿå·²ç»æˆåŠŸéƒ¨ç½²ï¼

**ä¸‹ä¸€æ­¥æ“ä½œï¼š**
1. âœ… è®¿é—®Webç•Œé¢è¿›è¡Œåˆå§‹é…ç½®
2. âœ… é…ç½®äº¤æ˜“æ‰€APIå¯†é’¥
3. âœ… åˆ›å»ºäº¤æ˜“æœºå™¨äºº
4. âœ… å¼€å§‹é‡åŒ–äº¤æ˜“

**é‡è¦æç¤ºï¼š**
- ğŸ” è¯·å¦¥å–„ä¿ç®¡æ•°æ®åº“å’ŒRediså¯†ç 
- ğŸ“ å®šæœŸå¤‡ä»½æ•°æ®åº“
- ğŸ”„ å®šæœŸæ›´æ–°ç³»ç»Ÿå’Œè½¯ä»¶åŒ…
- ğŸ“Š ç›‘æ§ç³»ç»Ÿèµ„æºä½¿ç”¨æƒ…å†µ

**è·å–å¸®åŠ©ï¼š**
- æŸ¥çœ‹æ—¥å¿—ï¼š`sudo journalctl -u hotgo -f`
- é—®é¢˜æ’æŸ¥ï¼šå‚è€ƒä¸Šé¢çš„"æ•…éšœæ’æŸ¥"ç« èŠ‚

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
**æœ€åæ›´æ–°**: 2025-01-XX  
**é€‚ç”¨ç³»ç»Ÿ**: Ubuntu 24.04 LTS
